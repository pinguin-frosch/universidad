{% extends 'personas/plantilla.html' %}

{% block cuerpo %}

<div class="container">
    <h1 class="text-center">Registro de personas</h1>

    <p class="text-center"><a href="{% url 'personas:lista' %}">Ver lista de personas</a></p>

    <form method="post" class="form row needs-validation" id="formulario" novalidate>
        {% csrf_token %}

        <!-- Run -->
        <label for="run" class="form-label">Run</label>
        <input type="text" name="run" id="run" class="form-control" required pattern="\d{1,2}\.\d{3}\.\d{3}-[\dKk]">

        <!-- Nombre -->
        <label for="nombre" class="form-label">Nombre</label>
        <input type="text" name="nombre" id="nombre" class="form-control" required pattern=".*\S.*">

        <!-- Email -->
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" name="email" class="form-control" required>

        <!-- Teléfono -->
        <label for="telefono" class="form-label">Teléfono</label>
        <input type="tel" name="telefono" id="telefono" class="form-control" required pattern="\+?\d{1,}">

        <!-- Estado civil -->
        <label for="estado_civil" class="form-label">Estado civil</label>
        <select name="estado_civil" id="estado_civil" class="form-select">
            <option value="Casad@">Casad@</option>
            <option value="Solter@">Solter@</option>
            <option value="Viud@">Viud@</option>
            <option value="Divorciad@">Divorciad@</option>
        </select>
        <br>

        <!-- Género -->
        <label class="form-label">Género: </label>
        <div class="form-check">
            <input type="radio" name="genero" id="masculino" class="form-check-input" value="Masculino" checked>
            <label for="masculino" class="form-check-label">Masculino</label>
        </div>
        <div class="form-check">
            <input type="radio" name="genero" id="femenino" class="form-check-input" value="Femenino">
            <label for="femenino" class="form-check-label">Femenino</label>
        </div>
        <div class="form-check">
            <input type="radio" name="genero" id="no_binario" class="form-check-input" value="No binario">
            <label for="no_binario" class="form-check-label">No binario</label>
        </div>
        <br>

        <!-- Comentario -->
        <label for="comentario" class="form-label">Comentario</label>
        <textarea name="comentario" id="comentario" cols="30" rows="5" class="form-control" requiren minlength="40"
            maxlength="300"></textarea>

        <!-- Enviar -->
        <div class="col text-center mt-3">
            <input type="submit" value="Registrar" class="btn btn-primary">
        </div>
    </form>
</div>

<script>
    const formulario = document.getElementById('formulario')
    formulario.addEventListener('submit', (evento) => {
        if (!formulario.checkValidity()) {
            evento.preventDefault()
            evento.stopPropagation()
        }

        formulario.classList.add('was-validated')
    })
</script>
{% endblock cuerpo %}