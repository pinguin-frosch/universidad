{% extends 'personas/plantilla.html' %}

{% block contenido %}

<h1>Registro de usuarios</h1>

<p><a href="{% url 'personas:listar' %}">Ver usuarios registrados</a></p>

<form method="post" action="{% url 'personas:registrar' %}" id="formulario">
    {% csrf_token %}

    <label for="nombre">Nombre: </label>
    <input type="text" id="nombre" name="nombre" required><br>

    <label for="apellido">Apellido: </label>
    <input type="text" id="apellido" name="apellido" required><br>

    <label for="email">Email: </label>
    <input type="email" id="email" name="email" required><br>

    <label for="fecha_nacimiento">Fecha nacimiento: </label>
    <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required><br>

    <input type="submit" value="Registrar">
</form>

<script>
    const formulario = document.getElementById('formulario')
    formulario.addEventListener('submit', (evento) => {
        const nombre = formulario['nombre'].value.trim()
        const apellido = formulario['apellido'].value.trim()
        const fecha_nacimiento = formulario['fecha_nacimiento'].value
        const email = formulario['email'].value
        if (nombre === '' || apellido === '') {
            evento.preventDefault()
        }
    })
</script>

{% endblock contenido %}